<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ableron ‚Äì Decentralized UI Composition</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Fira+Code&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
    code, pre {
      font-family: 'Fira Code', monospace;
    }
  </style>
</head>
<body class="bg-gray-900 text-white">

<!-- Hero -->
<section class="text-center py-20 px-6 bg-gray-800">
  <h1 class="text-4xl md:text-6xl font-bold mb-4">Ableron</h1>
  <p class="text-lg md:text-xl text-gray-300 max-w-2xl mx-auto">Decentralized server-side UI composition ‚Äì no gateway, no central controller.</p>
  <a href="https://github.com/ableron/ableron" target="_blank" class="inline-block mt-6 bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-6 rounded">
    View on GitHub
  </a>
</section>

<!-- What is Ableron -->
<section class="max-w-4xl mx-auto px-6 pt-16">
  <h2 class="text-3xl font-semibold mb-4 text-purple-400">What is Ableron?</h2>
  <p class="text-gray-300">
    Ableron is a library for decentralized server-side UI composition. Unlike traditional solutions like <code>nginx SSI</code>, there‚Äôs no central component. Each service is capable of composing its own HTML using <code>&lt;ableron-include&gt;</code> tags, resolved internally. This is achieved by installing Ableron as a dependency in your service.
  </p>
</section>

<!-- Why Ableron -->
<section class="max-w-4xl mx-auto px-6 pt-16">
  <h2 class="text-3xl font-semibold mb-6 text-purple-400">Why Ableron?</h2>

  <!-- TL;DR Callout Box -->
  <div class="bg-gray-800 p-4 rounded-lg mb-8 text-yellow-300">
    <p class="text-lg font-semibold">TL;DR: Ableron is a decentralized, efficient solution for dynamic, server-side UI composition with local caching, easy configuration, and great developer experience.</p>
  </div>

  <!-- Key Features -->
  <div class="space-y-6 text-gray-300">
    <div class="flex items-start">
      <span class="mr-4 text-purple-500 text-2xl">üí°</span>
      <div>
        <h3 class="text-xl font-semibold text-white mb-1">Lean Infrastructure</h3>
        <p>
          No need to route all traffic through a centralized infrastructure component for UI composition. Services stay independent and scalable.
        </p>
      </div>
    </div>

    <div class="flex items-start">
      <span class="mr-4 text-purple-500 text-2xl">üöÄ</span>
      <div>
        <h3 class="text-xl font-semibold text-white mb-1">Easy Local Development</h3>
        <p>
          Since includes are resolved directly within your service, local development works out of the box ‚Äî without needing to run complex infrastructure setups.
        </p>
      </div>
    </div>

    <div class="flex items-start">
      <span class="mr-4 text-purple-500 text-2xl">‚öôÔ∏è</span>
      <div>
        <h3 class="text-xl font-semibold text-white mb-1">Simple Configuration</h3>
        <p>
          Configure per-include settings like timeouts, fallback fragments, or static fallback content with minimal effort ‚Äî no central coordination required.
        </p>
      </div>
    </div>

    <div class="flex items-start">
      <span class="mr-4 text-purple-500 text-2xl">üíæ</span>
      <div>
        <h3 class="text-xl font-semibold text-white mb-1">Local Caching</h3>
        <p>
          All fragments can be cached in memory directly inside your service, based on their individual cache policy. This reduces HTTP overhead and latency ‚Äî saving both time and money.
        </p>
      </div>
    </div>
  </div>

  <!-- Comparison with nginx SSI -->
  <h3 class="text-2xl font-semibold mt-12 text-purple-400">Ableron vs nginx SSI</h3>
  <div class="overflow-x-auto mt-6 bg-gray-800 rounded-lg shadow-md">
    <table class="min-w-full text-left text-gray-300">
      <thead>
      <tr>
        <th class="px-6 py-3 border-b text-purple-400">Feature</th>
        <th class="px-6 py-3 border-b text-purple-400">Ableron</th>
        <th class="px-6 py-3 border-b text-purple-400">nginx SSI</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td class="px-6 py-3 border-b">Centralized vs Distributed</td>
        <td class="px-6 py-3 border-b">Decentralized (each service composes its own UI)</td>
        <td class="px-6 py-3 border-b">Centralized (nginx manages UI composition)</td>
      </tr>
      <tr>
        <td class="px-6 py-3 border-b">Developer Experience</td>
        <td class="px-6 py-3 border-b">Easy local development with no extra infrastructure</td>
        <td class="px-6 py-3 border-b">Requires complex infrastructure setup for local development</td>
      </tr>
      <tr>
        <td class="px-6 py-3 border-b">Scalability</td>
        <td class="px-6 py-3 border-b">Scalable by design, no bottlenecks</td>
        <td class="px-6 py-3 border-b">Potential bottleneck at the centralized server</td>
      </tr>
      <tr>
        <td class="px-6 py-3 border-b">Caching</td>
        <td class="px-6 py-3 border-b">In-memory fragment caching per service</td>
        <td class="px-6 py-3 border-b">Caching typically done at the centralized infrastructure level</td>
      </tr>
      <tr>
        <td class="px-6 py-3 border-b">Complexity</td>
        <td class="px-6 py-3 border-b">Low complexity (library-based, no additional infrastructure)</td>
        <td class="px-6 py-3 border-b">Higher complexity with nginx or similar infrastructure</td>
      </tr>
      </tbody>
    </table>
  </div>
</section>

<!-- Quickstart -->
<section class="max-w-4xl mx-auto px-6 pt-16">
  <h2 class="text-3xl font-semibold mb-4 text-purple-400">Quickstart</h2>
  <p class="text-gray-300 mb-4">Ableron provides framework integrations for
    <a class="text-purple-400" href="https://github.com/ableron/ableron/tree/main/ableron-spring-boot-2">Spring Boot 2</a>,
    <a class="text-purple-400" href="https://github.com/ableron/ableron/tree/main/ableron-spring-boot-3">Spring Boot 3</a>,
    <a class="text-purple-400" href="https://github.com/ableron/ableron/tree/main/ableron-express">express</a> and
    <a class="text-purple-400" href="https://github.com/ableron/ableron/tree/main/ableron-fastify">fastify</a> as well as low level implementations for
    <a class="text-purple-400" href="https://github.com/ableron/ableron/tree/main/ableron-java">Java</a> and
    <a class="text-purple-400" href="https://github.com/ableron/ableron/tree/main/ableron-js">JavaScript</a>.
  </p>
  <p class="text-gray-300 mb-4">Minimal usage example with express:</p>
  <pre class="bg-gray-800 text-gray-200 p-4 rounded overflow-x-auto text-sm"><code>import express from 'express';
import ableron from '@ableron/express';

const app = express();
app.use(ableron());

app.get('/', function(req, res) {
  res.send('&lt;ableron-include src="http://user-service/profile"/&gt;');
});

app.listen(port);</code></pre>
  <p class="text-gray-400 mt-4">More examples and documentation available in the <a href="https://github.com/ableron/ableron" target="_blank" class="text-purple-400 underline">GitHub repository</a>.</p>
</section>

<!-- Ableron-Tag Properties -->
<section class="max-w-4xl mx-auto px-6 pt-16">
  <h2 class="text-3xl font-semibold mb-6 text-purple-400">Ableron-Tag Properties</h2>
  <p class="text-gray-300 mb-6">
    The <code>&lt;ableron-include&gt;</code> tag is used to include fragments from external URLs into your page. It comes with various attributes and fallback options.
  </p>

  <div class="space-y-8 text-gray-300">
    <div>
      <h3 class="text-xl font-semibold text-white mb-2">Required Closing Tag</h3>
      <p>
        The <code>&lt;ableron-include&gt;</code> tag must be properly closed. You can either use the self-closing syntax <code>&lt;ableron-include ... /&gt;</code> or explicitly close the tag with <code>&lt;ableron-include ...&gt;&lt;/ableron-include&gt;</code>.
      </p>
    </div>

    <div>
      <h3 class="text-xl font-semibold text-white mb-2">Fallback Content</h3>
      <p>
        Content placed between <code>&lt;ableron-include&gt;</code> and <code>&lt;/ableron-include&gt;</code> is used as fallback content in case the fragment cannot be loaded due to request timeout or erroneous response.
      </p>
    </div>

    <div>
      <h3 class="text-xl font-semibold text-white mb-2">Attributes</h3>
      <ul class="list-disc list-inside space-y-2">
        <li>
          <strong>id</strong>: A unique identifier for the include tag. This is useful for log messages and debugging.
        </li>
        <li>
          <strong>src</strong>: The URL of the fragment to be included. This is the primary source of the fragment content.
        </li>
        <li>
          <strong>src-timeout</strong>: Timeout for requesting the fragment URL. This can be specified in milliseconds (e.g., <code>2000</code> or <code>2000ms</code>) or seconds (e.g., <code>2s</code>). Defaults to the global request timeout.
        </li>
        <li>
          <strong>fallback-src</strong>: The URL to a fallback fragment, in case the primary <code>src</code> fails to load.
        </li>
        <li>
          <strong>fallback-src-timeout</strong>: Timeout for requesting the <code>fallback-src</code> URL. The value can be specified similarly to <code>src-timeout</code>.
        </li>
        <li>
          <strong>primary</strong>: Denotes a fragment whose response code will be set as the HTTP response code for the entire page.
        </li>
        <li>
          <strong>headers</strong>: A comma-separated list of headers that should be forwarded from the parent request to the fragment request. These headers become part of the cache key for the requested URL.
        </li>
        <li>
          <strong>cookies</strong>: A comma-separated list of cookies that should be forwarded to the fragment request. These cookies also become part of the cache key for the requested URL.
        </li>
      </ul>
    </div>

    <div>
      <h3 class="text-xl font-semibold text-white mb-2">Resolution Precedence</h3>
      <p>
        When resolving the fragment content, the precedence is as follows: <strong>src ‚Üí fallback-src ‚Üí fallback content</strong>. This ensures a robust fallback mechanism in case of failures.
      </p>
    </div>
  </div>
</section>

<!-- Ableron-Tag Example -->
<section class="max-w-4xl mx-auto px-6 pt-16">
  <h2 class="text-3xl font-semibold mb-6 text-purple-400">Ableron-Tag Example</h2>
  <p class="text-gray-300 mb-6">
    Here's an example of how you can use the <code>&lt;ableron-include&gt;</code> tag to include external fragments into your service response. This example demonstrates the use of several important attributes, such as <code>src</code>, <code>fallback-src</code>, <code>headers</code>, <code>cookies</code>, and fallback content.
  </p>

  <div class="bg-gray-800 p-4 rounded-lg mb-8">
    <pre class="text-green-400 font-mono overflow-x-auto">
<code>&lt;ableron-include
  id="header"
  src="https://header-service/api/fragments/header"
  src-timeout="2s"
  fallback-src="https://cdn-proxy/static/fallback-header"
  headers="x-ab-test-groups,x-country"
  cookies="device,consent"&gt;
  &lt;header&gt;Static fallback header&lt;/header&gt;
&lt;/ableron-include&gt;</code>
    </pre>
  </div>

  <p class="text-gray-300">
    In this example:
  </p>
  <ul class="list-disc list-inside text-gray-300">
    <li><strong>id</strong>: The unique identifier for this include, which can be helpful for logging and debugging (in this case, "header").</li>
    <li><strong>src</strong>: The primary URL from which the fragment will be fetched. In this case, it's an API endpoint for the header fragment.</li>
    <li><strong>src-timeout</strong>: The request timeout for the fragment URL. In this case, the request will is considered failed after two seconds.</li>
    <li><strong>fallback-src</strong>: A fallback URL for the header fragment in case the primary request fails. Here, a CDN URL might be a good choice.</li>
    <li><strong>headers</strong>: A comma-separated list of headers to forward from the parent request to the fragment request. Useful, if headers are part of the API and the fragment response differs in regard to the provided headers.</li>
    <li><strong>cookies</strong>: A comma-separated list of cookies to forward to the fragment request. Same logic as with headers.</li>
    <li><strong>Fallback Content</strong>: If the <code>src</code> and <code>fallback-src</code> both fail, the content between the opening and closing <code>&lt;ableron-include&gt;</code> tags will be used as a static fallback. In this case, it‚Äôs a simple static <code>&lt;header&gt;</code> element.</li>
  </ul>
</section>

<!-- Advanced Features -->
<section class="max-w-4xl mx-auto px-6 pt-16">
  <h2 class="text-3xl font-semibold mb-6 text-purple-400">Advanced Features</h2>

  <!-- Primary Includes -->
  <div class="mb-10">
    <h3 class="text-xl font-semibold text-white mb-2">‚≠ê Primary Includes</h3>
    <p class="text-gray-300">
      Ableron supports marking an <code>&lt;ableron-include&gt;</code> as primary. Primary includes are considered to be the main part of the finally composed page and thus define the HTTP response status and influence response headers.
    </p>
    <ul class="list-disc list-inside text-gray-300 mt-4 space-y-2">
      <li>
        If <code>src</code> returns success status, this status code is set as response code for the entire page.
      </li>
      <li>
        If <code>src</code> returns error status, <code>fallback-src</code> is defined and returns success status, this status code is set as response code for the entire page.
      </li>
      <li>
        If <code>src</code> and <code>fallback-src</code> both return error status, the status code returned by <code>src</code> is set as response code for the entire page and the fragment content is set to the body returned by <code>src</code>. Fallback content is ignored.
      </li>
      <li>
        Response headers will be forwarded to the finally composed page, in case they are whitelisted in global configuration.
      </li>
    </ul>
  </div>

  <!-- Cache Auto Refresh -->
  <div class="mb-10">
    <h3 class="text-xl font-semibold text-white mb-2">üîÅ Cache Auto Refresh</h3>
    <p class="text-gray-300">
      Ableron supports automatic cache refreshing for included fragments ‚Äî a feature designed to keep response times low and cache hit rates high.
    </p>
    <ul class="list-disc list-inside text-gray-300 mt-4 space-y-2">
      <li>
        Auto refresh is <strong>disabled by default</strong> and must be explicitly enabled via configuration.
      </li>
      <li>
        If enabled, cached fragments are <strong>refreshed asynchronously</strong> <em>before</em> their TTL expires ‚Äî reducing the chance of a cache miss.
      </li>
      <li>
        Refresh attempts are triggered when <strong>only 15% of the original TTL</strong> is remaining.
      </li>
      <li>
        In case of refresh failure, <strong>up to 3 retries</strong> are made with a static 1-second delay.
      </li>
      <li>
        Ableron limits refreshing for <strong>inactive fragments</strong> ‚Äî i.e., those that have not been accessed since the last cache write ‚Äî based on a configurable threshold.
      </li>
      <li>
        This strategy keeps latency low while avoiding excessive backend load.
      </li>
    </ul>
  </div>

  <!-- Statistics -->
  <div class="mb-10">
    <h3 class="text-xl font-semibold text-white mb-2">üìä Statistics</h3>
    <p class="text-gray-300 mb-6">
      To provide insights into what is happening during page composition, Ableron provides the opportunity to add composition statistics to the finally composed page via HTML comment. This feature is disabled by default, as you may not want to expose those statistics in your production environment.
    </p>

    <div class="bg-gray-800 p-4 rounded-lg mb-8">
      <pre class="text-green-400 font-mono overflow-x-auto"><code>&lt;!-- Processed 4 includes in 93ms

Time | Include | Resolved With | Fragment Cacheability | Fragment URL
------------------------------------------------------
0ms | header | fallback content | - | -
56ms | main | remote src | not cacheable | https://content-service/main
93ms | footer | remote src | expires in 600s | https://content-service/footer
0ms | nav | cached fallback-src | expires in 10s | https://content-service/nav

Cache: 3 items, 1 hits, 3 misses, 0 successful refreshs, 0 failed refreshs
--&gt;</code></pre>
    </div>
  </div>
</section>

<!-- FAQ -->
<section class="max-w-4xl mx-auto px-6 pt-16">
  <h2 class="text-3xl font-semibold mb-6 text-purple-400">FAQ</h2>
  <div class="mb-10">
    <h3 class="text-xl font-semibold text-white mb-2">Which fragments will be cached?</h3>
    <p class="text-gray-300">
      Fragments will be cached, if their cache policy allows caching and if the response code is one of <code>200, 203, 204, 206, 300, 404, 405, 410, 414, 501</code>.
    </p>
  </div>

  <div class="mb-10">
    <h3 class="text-xl font-semibold text-white mb-2">How are redirects being handled?</h3>
    <p class="text-gray-300">
      In order to not introduce unwanted latency, redirects returned by <code>src</code> or <code>fallback-src</code> URLs will not be followed. Instead, the request is considered failed.
    </p>
  </div>

  <div class="mb-10">
    <h3 class="text-xl font-semibold text-white mb-2">Does Ableron influence the Cache-Control of my page?</h3>
    <p class="text-gray-300">
      As each fragment brings its own cache policy, Ableron will adjust the cache policy of the finally composed page accordingly. The fragment with the lowest TTL defines the <code>max-age</code> of the page, in case max age of the page is not below it.
    </p>
  </div>
</section>

<!-- Contributing -->
<section class="max-w-4xl mx-auto px-6 pt-16">
  <h2 class="text-3xl font-semibold mb-6 text-purple-400">Contributing</h2>
  <p class="text-gray-300 mb-6">
    All contributions are greatly appreciated. To contribute, either open an issue or fork <a href="https://github.com/ableron/ableron" class="underline text-purple-400">the repository</a> and create a pull request:
  </p>
  <ol class="list-decimal list-inside text-gray-300 mt-4 space-y-2">
    <li>
      Fork <a href="https://github.com/ableron/ableron" class="underline text-purple-400">the repository</a>
    </li>
    <li>
      Create your feature branch: <code>git checkout -b feature/amazing-feature</code>
    </li>
    <li>
      Commit your changes: <code>git commit -m 'Added some amazing feature'</code>
    </li>
    <li>
      Push to your branch: <code>git push origin feature/amazing-feature</code>
    </li>
    <li>
      Open a pull request
    </li>
  </ol>
</section>

<!-- Footer -->
<footer class="text-center text-gray-500 text-sm py-12">
  ¬© 2025 Ableron Project ‚Äì <a href="https://github.com/ableron/ableron" class="underline text-purple-400">GitHub</a>
</footer>

</body>
</html>
